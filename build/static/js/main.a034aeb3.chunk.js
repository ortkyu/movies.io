(this["webpackJsonptest-movies"]=this["webpackJsonptest-movies"]||[]).push([[0],{14:function(e,t,c){e.exports={selectNumberPage:"paginator_selectNumberPage__3UFhg",numberPage:"paginator_numberPage__2JOtO",pagination:"paginator_pagination__1YU2k"}},15:function(e,t,c){e.exports={wrapSpinner:"loader_wrapSpinner__2FA7c",loadSpin:"loader_loadSpin__YfPeV","ldio-6i9qru22tim":"loader_ldio-6i9qru22tim__3u-HM",loadingSpinner:"loader_loadingSpinner__1x4dz"}},21:function(e,t,c){e.exports={wrapper:"moveItem_wrapper__y6AD4",info:"moveItem_info__fP_c-"}},23:function(e,t,c){},25:function(e,t,c){e.exports={wrapper:"header_wrapper__2Ipi8"}},28:function(e,t,c){e.exports={wrapper:"moveInfo_wrapper__yQk1p"}},3:function(e,t,c){e.exports={wrapper:"navbar_wrapper__xYAEd",sort:"navbar_sort__V33rF",nameSort:"navbar_nameSort__1E7G6",active:"navbar_active__1GopI"}},33:function(e,t,c){},40:function(e,t,c){"use strict";c.r(t);var i=c(1),n=c.n(i),a=c(24),r=c.n(a),s=(c(33),c(16)),o=c(5),d=c(10),l=c(2),j=c(25),v=c.n(j),b=c(0),p=function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:v.a.wrapper,children:Object(b.jsx)(d.b,{to:"/",children:Object(b.jsx)("h1",{children:"The Movies "})})})})},u=c(27),h=c(14),x=c.n(h);function O(){var e=Object(i.useContext)(L),t=e.movies,c=e.setnumberPage,n=e.numberPage,a=e.loadMoviesToPagination,r=function(e){window.scrollTo(0,0),a(e),c(e)},s=t.total_pages,d=n,l=Math.ceil(s/5),j=Object(i.useState)(1),v=Object(o.a)(j,2),p=v[0],u=v[1],h=5*(p-1)+1,O=5*p;Object(i.useEffect)((function(){d>O&&u(p+1),d<h&&u(p-1)}),[d]);for(var m=[],g=1;g<=s;g++)m.push(g);return Object(b.jsx)("div",{className:x.a.pagination,children:Object(b.jsxs)("div",{children:[p>1&&Object(b.jsx)("div",{onClick:function(){u(p-1),r(h-1)},children:"\u043f\u0440\u0435\u0434"}),Object(b.jsx)("div",{children:m.filter((function(e){return e>=h&&e<=O})).map((function(e){return Object(b.jsx)("span",{className:d===e?x.a.selectNumberPage:x.a.numberPage,onClick:function(t){r(e)},children:e},e)}))}),l>p&&Object(b.jsx)("div",{onClick:function(){u(p+1),r(O+1)},children:"\u0441\u043b\u0435\u0434"})]})})}var m=c(15),g=c.n(m),f=function(){return Object(b.jsx)("div",{className:g.a.wrapSpinner,children:Object(b.jsx)("div",{className:g.a.loadingSpinner,children:Object(b.jsxs)("div",{className:g.a.loadSpin,children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{children:Object(b.jsx)("div",{})}),Object(b.jsx)("div",{children:Object(b.jsx)("div",{})})]})})})},_=c(21),w=c.n(_),N=function(e){var t=e.movie,c=Object(i.useContext)(L),n=c.setFavorit,a=c.deleteFavorit,r=c.idsFavoriteMovie.includes(t.id);return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:w.a.wrapper,children:[Object(b.jsxs)(d.b,{to:"/movie/"+t.id,children:[Object(b.jsx)("div",{children:Object(b.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(t.backdrop_path),alt:"image null"})}),Object(b.jsx)("div",{className:w.a.info,children:Object(b.jsx)("div",{children:t.original_title})})]}),r?Object(b.jsx)("div",{onClick:function(){return a(t.id)},children:Object(b.jsx)("svg",{fill:"red",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"22px",height:"22px",viewBox:"0 0 612 612",children:Object(b.jsx)("path",{d:"M459,18.075c-63.743,0-111.977,37.409-153,76.5c-39.091-41.482-89.256-76.5-153-76.5c-89.773,0-153,77.188-153,161.358\r c0,45.154,18.494,77.686,38.747,108.228l237.781,285.077c26.699,28.248,31.729,28.248,58.427,0l238.316-285.077\r C597.082,257.119,612,224.587,612,179.433C612,95.264,548.772,18.075,459,18.075z M535.5,279.744L306,553.575L76.5,278.615\r c-27.444-38.154-38.25-63.896-38.25-99.182c0-65.752,46.952-124.944,114.75-125.499c55.769-0.459,118.977,56.495,153,99.431\r c33.125-41.444,97.231-99.431,153-99.431c66,0,114.75,59.747,114.75,125.499C573.75,214.719,565.201,242.373,535.5,279.744z"})})}):Object(b.jsx)("div",{onClick:function(){return n(t.id)},children:Object(b.jsx)("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"22px",height:"22px",viewBox:"0 0 612 612",children:Object(b.jsx)("path",{d:"M459,18.075c-63.743,0-111.977,37.409-153,76.5c-39.091-41.482-89.256-76.5-153-76.5c-89.773,0-153,77.188-153,161.358\r c0,45.154,18.494,77.686,38.747,108.228l237.781,285.077c26.699,28.248,31.729,28.248,58.427,0l238.316-285.077\r C597.082,257.119,612,224.587,612,179.433C612,95.264,548.772,18.075,459,18.075z M535.5,279.744L306,553.575L76.5,278.615\r c-27.444-38.154-38.25-63.896-38.25-99.182c0-65.752,46.952-124.944,114.75-125.499c55.769-0.459,118.977,56.495,153,99.431\r c33.125-41.444,97.231-99.431,153-99.431c66,0,114.75,59.747,114.75,125.499C573.75,214.719,565.201,242.373,535.5,279.744z"})})})]})})},C=(c(23),function(){var e=Object(i.useContext)(L),t=e.movies,c=e.loadMoviesToScroll;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"body",children:Object(b.jsx)("div",{className:"wrap_paginnation",children:Object(b.jsx)(O,{})})}),Object(b.jsx)(u.a,{dataLength:t.results.length,next:c,hasMore:!0,loader:Object(b.jsx)(f,{}),children:Object(b.jsx)("div",{name:"test3",className:"listMovie",children:t.results&&t.results.map((function(e){return Object(b.jsx)("div",{children:Object(b.jsx)(N,{movie:e})},e.id)}))})})]})}),S=c(3),F=c.n(S),y=function(){var e=Object(i.useContext)(L),t=e.sortOption,c=e.setsortOption,n=e.genre,a=e.setGenre,r=Object(i.useState)(!1),s=Object(o.a)(r,2),d=s[0],l=s[1],j=Object(i.useState)(!1),v=Object(o.a)(j,2),p=v[0],u=v[1];return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:F.a.wrapper,children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{onClick:function(){return l(!d)},className:F.a.sort,children:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\xa0 v"}),d&&Object(b.jsxs)("div",{onClick:function(e){return function(e){c(e.target.id)}(e)},className:F.a.nameSort,children:[Object(b.jsx)("div",{children:"\u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0441\u0442\u0438"}),Object(b.jsx)("span",{id:"vote_average.asc",className:"vote_average.asc"===t&&F.a.active,children:"\u2191"}),Object(b.jsx)("span",{id:"vote_average.desc",className:"vote_average.desc"===t&&F.a.active,children:"\u2193"}),Object(b.jsx)("div",{children:"\u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0443"}),Object(b.jsx)("span",{id:"popularity.asc",className:"popularity.asc"===t&&F.a.active,children:"\u2191"}),Object(b.jsx)("span",{id:"popularity.desc",className:"popularity.desc"===t&&F.a.active,children:"\u2193"}),Object(b.jsx)("div",{children:"\u0434\u0430\u0442\u0435"}),Object(b.jsx)("span",{id:"release_date.asc",className:"release_date.asc"===t&&F.a.active,children:"\u2191"}),Object(b.jsx)("span",{id:"release_date.desc",className:"release_date.desc"===t&&F.a.active,children:"\u2193"})]})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:F.a.sort,onClick:function(){return u(!p)},children:"\u0416\u0430\u043d\u0440\u044b\xa0 v"}),p&&Object(b.jsxs)("div",{className:F.a.nameSort,onClick:function(e){return function(e){a(e.target.id)}(e)},children:[Object(b.jsx)("div",{className:"35"===n&&F.a.active,id:"35",children:"\u043a\u043e\u043c\u0435\u0434\u0438\u044f"}),Object(b.jsx)("div",{className:"28"===n&&F.a.active,id:"28",children:"\u0431\u043e\u0435\u0432\u0438\u043a"}),Object(b.jsx)("div",{className:"10752"===n&&F.a.active,id:"10752",children:"\u0432\u043e\u0435\u043d\u043d\u044b\u0439"}),Object(b.jsx)("div",{className:"37"===n&&F.a.active,id:"37",children:"\u0432\u0435\u0441\u0442\u0435\u0440\u043d"}),Object(b.jsx)("div",{className:"53"===n&&F.a.active,id:"53",children:"\u0442\u0440\u0438\u043b\u043b\u0435\u0440"}),Object(b.jsx)("div",{className:"36"===n&&F.a.active,id:"36",children:"\u0438\u0441\u0442\u043e\u0440\u0438\u0447\u0435\u0441\u043a\u0438\u0439"}),Object(b.jsx)("div",{className:"99"===n&&F.a.active,id:"99",children:"\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u043b\u044c\u043d\u044b\u0439"}),Object(b.jsx)("div",{className:"12"===n&&F.a.active,id:"12",children:"\u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"}),Object(b.jsx)("div",{className:"18"===n&&F.a.active,id:"18",children:"\u0434\u0440\u0430\u043c\u0430"})]})]})]})})},M=c(28),k=c.n(M),P=Object(l.e)((function(e){var t=e.match,c=Object(i.useContext)(L),n=c.setFavorit,a=c.deleteFavorit,r=c.idsFavoriteMovie,s=t.params.id,d=Object(i.useState)(!1),l=Object(o.a)(d,2),j=l[0],v=l[1];Object(i.useEffect)((function(){fetch("https://api.themoviedb.org/3/movie/".concat(s,"?api_key=4237669ebd35e8010beee2f55fd45546")).then((function(e){return e.json()})).then((function(e){return v(e)})).catch((function(e){v(!1),console.log("errorFetch",e)}))}),[]);var p=r.includes(j.id);return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:k.a.wrapper,children:[Object(b.jsx)("div",{children:Object(b.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(j.backdrop_path),alt:"image null"})}),Object(b.jsx)("div",{children:j.original_title}),p?Object(b.jsx)("div",{onClick:function(){return a(j.id)},children:Object(b.jsx)("svg",{fill:"red",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"22px",height:"22px",viewBox:"0 0 612 612",children:Object(b.jsx)("path",{d:"M459,18.075c-63.743,0-111.977,37.409-153,76.5c-39.091-41.482-89.256-76.5-153-76.5c-89.773,0-153,77.188-153,161.358\r c0,45.154,18.494,77.686,38.747,108.228l237.781,285.077c26.699,28.248,31.729,28.248,58.427,0l238.316-285.077\r C597.082,257.119,612,224.587,612,179.433C612,95.264,548.772,18.075,459,18.075z M535.5,279.744L306,553.575L76.5,278.615\r c-27.444-38.154-38.25-63.896-38.25-99.182c0-65.752,46.952-124.944,114.75-125.499c55.769-0.459,118.977,56.495,153,99.431\r c33.125-41.444,97.231-99.431,153-99.431c66,0,114.75,59.747,114.75,125.499C573.75,214.719,565.201,242.373,535.5,279.744z"})})}):Object(b.jsx)("div",{onClick:function(){return n(j.id)},children:Object(b.jsx)("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"22px",height:"22px",viewBox:"0 0 612 612",children:Object(b.jsx)("path",{d:"M459,18.075c-63.743,0-111.977,37.409-153,76.5c-39.091-41.482-89.256-76.5-153-76.5c-89.773,0-153,77.188-153,161.358\r c0,45.154,18.494,77.686,38.747,108.228l237.781,285.077c26.699,28.248,31.729,28.248,58.427,0l238.316-285.077\r C597.082,257.119,612,224.587,612,179.433C612,95.264,548.772,18.075,459,18.075z M535.5,279.744L306,553.575L76.5,278.615\r c-27.444-38.154-38.25-63.896-38.25-99.182c0-65.752,46.952-124.944,114.75-125.499c55.769-0.459,118.977,56.495,153,99.431\r c33.125-41.444,97.231-99.431,153-99.431c66,0,114.75,59.747,114.75,125.499C573.75,214.719,565.201,242.373,535.5,279.744z"})})}),Object(b.jsx)("div",{children:j.overview})]})})})),L=n.a.createContext();var z=function(){var e=Object(i.useState)(1),t=Object(o.a)(e,2),c=t[0],n=t[1],a=Object(i.useState)("popularity.desc"),r=Object(o.a)(a,2),j=r[0],v=r[1],u=Object(i.useState)("35"),h=Object(o.a)(u,2),x=h[0],O=h[1],m=Object(i.useState)(!1),g=Object(o.a)(m,2),f=(g[0],g[1]),_=Object(i.useState)({page:c,results:[],total_pages:0,total_results:0}),w=Object(o.a)(_,2),N=w[0],S=w[1],F=Object(i.useState)([]),M=Object(o.a)(F,2),k=M[0],z=M[1],I=function(e){z([].concat(Object(s.a)(k),[e]))},E=function(e){z(k.filter((function(t){return t!==e})))};Object(i.useEffect)((function(){var e=localStorage.getItem("favorit");e&&z(JSON.parse(e))}),[]),Object(i.useEffect)((function(){localStorage.setItem("favorit",JSON.stringify(k))}),[I,E]);var T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;fetch("https://api.themoviedb.org/3/discover/movie?with_genres=".concat(x,"&page=").concat(e,"&sort_by=").concat(j,"&api_key=4237669ebd35e8010beee2f55fd45546")).then((function(e){return e.json()})).then((function(e){S(e),n(e.page)})).catch((function(e){return console.log("errorFetch",e)})).finally(f(!0))};return Object(i.useEffect)((function(){T()}),[v,j,O,x]),Object(b.jsx)(d.a,{children:Object(b.jsx)(L.Provider,{value:{genre:x,setGenre:O,sortOption:j,deleteFavorit:E,setFavorit:I,numberPage:c,idsFavoriteMovie:k,setFavoriteMovie:z,loadMoviesToPagination:T,loadMoviesToScroll:function(){fetch("https://api.themoviedb.org/3/discover/movie?page=".concat(c+1,"&sort_by=").concat(j,"&api_key=4237669ebd35e8010beee2f55fd45546")).then((function(e){return e.json()})).then((function(e){S({page:e.page,results:[].concat(Object(s.a)(N.results),Object(s.a)(e.results)),total_pages:e.total_pages,total_results:e.total_results}),n(c+1)})).catch((function(e){return console.log("errorFetch",e)})).finally(f(!0))},setnumberPage:n,setsortOption:v,movies:N},children:Object(b.jsxs)("div",{children:[Object(b.jsx)(p,{}),Object(b.jsx)(y,{}),Object(b.jsx)(l.a,{exact:!0,path:"/",component:C}),Object(b.jsx)(l.a,{path:"/movie/:id",component:P})]})})})},I=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,41)).then((function(t){var c=t.getCLS,i=t.getFID,n=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),i(e),n(e),a(e),r(e)}))};r.a.render(Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(z,{})}),document.getElementById("root")),I()}},[[40,1,2]]]);
//# sourceMappingURL=main.a034aeb3.chunk.js.map